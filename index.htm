<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <title>Emoji Quiz with Scoring</title>
  <style>
      body {
          font-family: Arial;
          text-align: center;
          max-width: 800px;
          margin: 40px auto;
          padding: 20px;
          background-color: #f0f2f5;
      }
      .container {
          background-color: white;
          padding: 20px;
          border-radius: 10px;
          box-shadow: 0 2px 10px rgba(0,0,0,0.1);
      }
      .emoji {
          font-size: 60px;
          margin: 20px;
      }
      .answer {
          font-size: 24px;
          margin: 20px;
          display: none;
          color: #2ecc71;
      }
      button {
          font-size: 18px;
          padding: 10px 20px;
          margin: 10px;
          cursor: pointer;
          border: none;
          border-radius: 5px;
          background-color: #3498db;
          color: white;
          transition: background-color 0.3s;
      }
      button:hover {
          background-color: #2980b9;
      }
      .progress {
          margin-top: 20px;
          color: #666;
      }
      .category-title {
          font-size: 24px;
          color: #2c3e50;
          margin: 20px;
      }
      .category-selector {
          margin: 20px;
          padding: 10px;
          display: flex;
          justify-content: center;
          align-items: center;
          gap: 10px;
      }
      select {
          padding: 8px;
          font-size: 16px;
          border-radius: 5px;
      }
      .player-input {
          margin: 20px;
          padding: 10px;
      }
      .score-display {
          margin: 20px;
          font-size: 18px;
      }
      .answer-input {
          padding: 10px;
          font-size: 16px;
          margin: 10px;
          width: 200px;
      }
      .results-table {
          width: 100%;
          margin-top: 20px;
          border-collapse: collapse;
      }
      .results-table th, .results-table td {
          border: 1px solid #ddd;
          padding: 8px;
          text-align: left;
      }
      .results-table th {
          background-color: #f2f2f2;
      }
  </style>
</head>
<body>
  <div class="container">
      <div id="startScreen">
          <h1>Emoji Quiz</h1>
          <input type="text" id="playerName" placeholder="Enter your name" required>
          <button onclick="startGame()">Start Game</button>
      </div>

      <div id="gameScreen" style="display: none;">
          <h1>Emoji Quiz</h1>
          <div class="category-selector">
              <label for="categorySelect">Select Category:</label>
              <select id="categorySelect" onchange="changeCategory()">
                  <option value="0">Movies ğŸ¬</option>
                  <option value="1">Sports âš½</option>
                  <option value="2">Food & Drinks ğŸ½ï¸</option>
                  <option value="3">Famous Places ğŸ—ºï¸</option>
                  <option value="4">Books ğŸ“š</option>
              </select>
          </div>
          <div class="category-title" id="categoryTitle"></div>
          <div class="emoji" id="emojiDisplay"></div>
          <input type="text" class="answer-input" id="playerAnswer" placeholder="Your answer">
          <button onclick="submitAnswer()">Submit Answer</button>
          <button onclick="skipQuestion()">Skip Question</button>
          <button onclick="endGame()">End Game</button>
          <div class="score-display" id="currentScore"></div>
          <div class="progress" id="progress"></div>
      </div>

      <div id="endScreen" style="display: none;">
          <h2>Game Over!</h2>
          <div id="finalScore"></div>
          <button onclick="restartGame()">Play Again</button>
          <button onclick="downloadResults()">Download All Results</button>
          <h3>All Players Results:</h3>
          <div id="allResults"></div>
      </div>
  </div>

  <script>
      const categories = [
          {
              name: "Movies ğŸ¬",
              questions: [
                  { emoji: "ğŸ¦ğŸ‘‘", answer: "the lion king" },
                  { emoji: "ğŸ‘»ğŸ‘»ğŸ‘»ğŸ”«", answer: "ghostbusters" },
                  { emoji: "ğŸš¢â„ï¸ğŸ’”", answer: "titanic" },
                  { emoji: "ğŸ§™â€â™‚ï¸ğŸ’ğŸŒ‹", answer: "lord of the rings" },
                  { emoji: "ğŸ¦–ğŸï¸ğŸš™", answer: "jurassic park" },
                  { emoji: "ğŸ¤–â¤ï¸ğŸ¤–â€â™€ï¸", answer: "wall-e" },
                  { emoji: "ğŸ§œâ€â™€ï¸ğŸ ğŸŒŠ", answer: "the little mermaid" },
                  { emoji: "ğŸ°ğŸŒ¹ğŸ‘§", answer: "beauty and the beast" },
                  { emoji: "ğŸªğŸ˜âœˆï¸", answer: "dumbo" },
                  { emoji: "ğŸ•·ï¸ğŸ‘¨ğŸ¦¸â€â™‚ï¸", answer: "spider-man" }
              ]
          },
          {
              name: "Sports âš½",
              questions: [
                  { emoji: "âš½ï¸ğŸƒâ€â™‚ï¸ğŸ¥…", answer: "soccer" },
                  { emoji: "ğŸˆğŸƒâ€â™‚ï¸ğŸ†", answer: "american football" },
                  { emoji: "ğŸ€ğŸƒâ€â™‚ï¸â›¹ï¸â€â™‚ï¸", answer: "basketball" },
                  { emoji: "âš¾ï¸ğŸƒâ€â™‚ï¸ğŸ’¨", answer: "baseball" },
                  { emoji: "ğŸ¾ğŸƒâ€â™‚ï¸ğŸ¾", answer: "tennis" },
                  { emoji: "ğŸŠâ€â™‚ï¸ğŸ’¦ğŸŠâ€â™€ï¸", answer: "swimming" },
                  { emoji: "ğŸƒâ€â™‚ï¸ğŸ”„ğŸƒâ€â™€ï¸", answer: "track and field" },
                  { emoji: "ğŸ‘ğŸ¥…âš¡ï¸", answer: "hockey" },
                  { emoji: "ğŸ¸ğŸª½ğŸ’¨", answer: "badminton" },
                  { emoji: "ğŸ¥ŠğŸ‘ŠğŸ’¥", answer: "boxing" }
              ]
          },
          {
              name: "Food & Drinks ğŸ½ï¸",
              questions: [
                  { emoji: "ğŸ•ğŸ§€ğŸ…", answer: "pizza" },
                  { emoji: "ğŸ”ğŸ¥©ğŸ¥¬", answer: "hamburger" },
                  { emoji: "ğŸ£ğŸŸğŸ¥¢", answer: "sushi" },
                  { emoji: "ğŸŒ®ğŸ§€ğŸ¥¬", answer: "tacos" },
                  { emoji: "ğŸğŸ…ğŸ§€", answer: "spaghetti" },
                  { emoji: "ğŸ¥¤ğŸ§ŠğŸ¥¤", answer: "soft drink" },
                  { emoji: "â˜•ï¸ğŸ¥›ğŸ’¨", answer: "latte" },
                  { emoji: "ğŸ¦ğŸ«ğŸ¥œ", answer: "ice cream sundae" },
                  { emoji: "ğŸ¥ªğŸ¥“ğŸ¥¬", answer: "sandwich" },
                  { emoji: "ğŸœğŸ¥šğŸ¥¢", answer: "ramen" }
              ]
          },
          {
              name: "Famous Places ğŸ—ºï¸",
              questions: [
                  { emoji: "ğŸ—½ğŸŒ†ğŸš•", answer: "new york city" },
                  { emoji: "ğŸ—¼ğŸ£ğŸŒ", answer: "tokyo" },
                  { emoji: "ğŸ¡ğŸ—¼ğŸ¥–", answer: "paris" },
                  { emoji: "ğŸ›ï¸ğŸğŸ›µ", answer: "rome" },
                  { emoji: "ğŸªğŸ¨ğŸ¦˜", answer: "sydney" },
                  { emoji: "â›©ï¸ğŸœğŸ—»", answer: "kyoto" },
                  { emoji: "ğŸ•ŒğŸªğŸŒ´", answer: "dubai" },
                  { emoji: "ğŸ­ğŸšŒâ˜”ï¸", answer: "london" },
                  { emoji: "ğŸºğŸ›ï¸ğŸ«’", answer: "athens" },
                  { emoji: "ğŸŒ‰ğŸŒğŸšŠ", answer: "san francisco" }
              ]
          },
          {
              name: "Books ğŸ“š",
              questions: [
                  { emoji: "ğŸ§™â€â™‚ï¸âš¡ï¸ğŸ‘“", answer: "harry potter" },
                  { emoji: "ğŸ•·ï¸ğŸ‘¨ğŸ•¸ï¸", answer: "charlotte's web" },
                  { emoji: "ğŸŒ²ğŸ¦ğŸšª", answer: "the lion, the witch and the wardrobe" },
                  { emoji: "ğŸ©ğŸ«–ğŸ°", answer: "alice in wonderland" },
                  { emoji: "ğŸ‘¨â€ğŸ‘¦ğŸ¦â­ï¸", answer: "the little prince" },
                  { emoji: "ğŸƒâ€â™‚ï¸ğŸ’¨ğŸˆ", answer: "around the world in 80 days" },
                  { emoji: "ğŸ‹ğŸš¢ğŸŒŠ", answer: "moby dick" },
                  { emoji: "ğŸ§‘â€ğŸŒ¾ğŸ­ğŸ“", answer: "stuart little" },
                  { emoji: "ğŸŒ³ğŸ’ğŸ§™â€â™‚ï¸", answer: "the hobbit" },
                  { emoji: "ğŸƒâ€â™‚ï¸ğŸŒŠğŸ‹", answer: "20,000 leagues under the sea" }
              ]
          }
      ];

      let currentCategory = 0;
      let currentQuestion = 0;
      let currentScore = 0;
      let questionsAttempted = 0;
      let playerName = "";
      let allResults = [];

      function startGame() {
          playerName = document.getElementById('playerName').value;
          if (!playerName) {
              alert('Please enter your name!');
              return;
          }
          document.getElementById('startScreen').style.display = 'none';
          document.getElementById('gameScreen').style.display = 'block';
          updateDisplay();
      }

      function changeCategory() {
          currentCategory = parseInt(document.getElementById('categorySelect').value);
          currentQuestion = 0; // Reset question index for new category
          updateDisplay();
      }

      function updateDisplay() {
          const category = categories[currentCategory];
          document.getElementById('categorySelect').value = currentCategory;
          document.getElementById('categoryTitle').textContent = category.name;
          document.getElementById('emojiDisplay').textContent = category.questions[currentQuestion].emoji;
          document.getElementById('currentScore').textContent = 
              `Score: ${currentScore}/${questionsAttempted}`;
          document.getElementById('progress').textContent = 
              `Question ${currentQuestion + 1} of ${category.questions.length}`;
          document.getElementById('playerAnswer').value = '';
      }

      function submitAnswer() {
          const playerAnswer = document.getElementById('playerAnswer').value.toLowerCase().trim();
          const correctAnswer = categories[currentCategory].questions[currentQuestion].answer.toLowerCase().trim();

          questionsAttempted++;
          if (playerAnswer === correctAnswer) {
              currentScore++;
              alert('Correct!');
          } else {
              alert(`Incorrect! The answer was: ${correctAnswer}`);
          }

          nextQuestion();
      }

      function skipQuestion() {
          nextQuestion();
      }

      function nextQuestion() {
          currentQuestion = (currentQuestion + 1) % categories[currentCategory].questions.length;
          updateDisplay();
      }

      function endGame() {
          const result = {
              name: playerName,
              score: currentScore,
              attempted: questionsAttempted,
              date: new Date().toLocaleString()
          };
          allResults.push(result);

          document.getElementById('gameScreen').style.display = 'none';
          document.getElementById('endScreen').style.display = 'block';
          document.getElementById('finalScore').textContent = 
              `${playerName}'s Final Score: ${currentScore} out of ${questionsAttempted}`;

          displayAllResults();
      }

      function displayAllResults() {
          const resultsDiv = document.getElementById('allResults');
          let tableHTML = `
              <table class="results-table">
                  <tr>
                      <th>Name</th>
                      <th>Score</th>
                      <th>Questions Attempted</th>
                      <th>Date</th>
                  </tr>
          `;

          allResults.forEach(result => {
              tableHTML += `
                  <tr>
                      <td>${result.name}</td>
                      <td>${result.score}</td>
                      <td>${result.attempted}</td>
                      <td>${result.date}</td>
                  </tr>
              `;
          });

          tableHTML += '</table>';
          resultsDiv.innerHTML = tableHTML;
      }

      function downloadResults() {
          let csvContent = "Name,Score,Questions Attempted,Date\n";
          allResults.forEach(result => {
              csvContent += `${result.name},${result.score},${result.attempted},${result.date}\n`;
          });

          const blob = new Blob([csvContent], { type: 'text/csv' });
          const url = window.URL.createObjectURL(blob);
          const a = document.createElement('a');
          a.setAttribute('href', url);
          a.setAttribute('download', 'emoji-quiz-results.csv');
          a.click();
      }

      function restartGame() {
          currentCategory = 0;
          currentQuestion = 0;
          currentScore = 0;
          questionsAttempted = 0;
          document.getElementById('endScreen').style.display = 'none';
          document.getElementById('startScreen').style.display = 'block';
          document.getElementById('playerName').value = '';
      }
  </script>
</body>
</html>
